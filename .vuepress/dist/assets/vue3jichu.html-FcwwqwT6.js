import{_ as e,r as o,o as c,c as l,b as n,d as s,e as p,a}from"./app-cgpgCr5u.js";const i="/assets/image-20220212222422186-So2DUOfu.png",u="/assets/image-20220212223742250-PYC5erY4.png",r="/assets/image-20220212224001104-cIvFWqzd.png",k="/assets/image-20220212224054798-NnMbUHl_.png",d="data:image/png;base64,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",v="data:image/png;base64,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",m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAdgAAAA2CAYAAABk4IjfAAAFZElEQVR4nO3dvW0VQRDA8TWiAzdAF8gVkLsICrBEgESI5MASBThBNOCIHhAdOHRAQuACHJkAHVrfm9nZ2a/bO/4/CeF3H3N7H755s7d+7+z+/v756ekpvPv6K/z+/i0AAIB6r7ZuAAAAR/Ramnhxdf3i9Y8vH11BH3/enkw7f/veHcO7Dv5ajj/Hz+fD5Zt/P9/cPajTcEzxuY5x3vdlOY8znLeTBHtxdX2SUKVpGikxSgk3tT6whZu7h/Dh8s2LX0xpGmQz3dhKaOea8z/G3q8fyXRdxOdv3w+pvI6cyEccwx7Hb11BaBUF5nSkG2Ot2a/dGdvX6vq5uXswY43afzHBrruIa9FV+f95/HnrTsJLBQEAR3DSRVzTPRzC32RqPT9d33hLns9a68fLxPPj6aXPKrXY3vVy2piaLi2X0zYrfm7bejzrjbvpZu2eld4ExG1cz/e2X3vuu57ufW21L+6i035uvR/S9j3TpPi1rPOXmh/PWx836ThKx9l6nTq3llT7cvbPu404hrX/UozUdSO10TouOfvf0lnqz3S8yTWm3Xy1Z7Q503KXtV6n4ltyYtesn9v2EF4m1dLjJ72OY3vjt7BOqp4kWztQxXoGVzvfu30tXghB3WZqfqp9qW3Hy0i829Km9T6+ltr2W23KWdY6f/G81LZSatrnjes9vyGkr+2ca81q86g37uIo4hZSN/+epO213L5WzY2OHy/n2b+c+DN06Zf+AmxR7bbcpvcdu7Z9a74W07oB1txoS9qQE2e2Ho4WUudvb/vrbe+RBhl2S7ALqcu4NjFtPUBJ60rNER+PVJVZGj9H7/gteG6wI0lVnNXF5qV1BY5Us11r3ZrYOce/ldQbDshGnp89SCbYku7hnIq1tkLassLqXZHvPX6t2RKqxOpCq2n/TPtfWj1Yb45yKtLU87GeXcQ5Zjk/s9r6/MxE/TOdi6vr5qOJNS0rWqkqs+KXbr90vZyBYDXxc7WKL8UpGUVc8+x1lJLqpbTi2aJSatkll1uBe/Yzpzpuedxy9qFm/gzVcMs2eGNJy68HIvW+B6y31/J4qIOcluTa41OcUqOAa9eXlrFG05aOIo6TectPqtLilxyb1DKp+DmjklP7vudPk8odJSrNt9b3bD81crS0bTnt8z4DleKu25tqZ+5gG2ldLXbJTdlq73ogjrSsFC91fVgJXDtuUltqrjOtfd643t8P6RrXejCs9TSe81Nz/UiSo4gBYAsz9l4AXt0HOQFArtYVBLAlEiyAaZBYcSTTfRYxAABHQIIFAKCDkwQ76k9zAAA4spME++PLR5IsAACVxC5ikiwAAHXUZ7AkWQAAypmfRVzzlXVe1vedal+lpk2L1wUAYCRzFPHISnZJhNb/0jqL5SMI43+zfmMMAOC4zAQ7soIFAOAokl3EWyTXnO9LtVCxAgC2pibYPVeuPHMFAGxN7CLeOrl6qtecapWKFgAw2kkFu3VytWiji+PBTYwiBgBsje+DBQCgg6m+rq53Vy6VLABglKkSLAkQAHAUfF0dAAAdkGABAOiABAsAQAckWAAAOiDBKp7PP2/dBADAjpFgAQDoYKo/04mrxrPHT+rrs8dPJ+tI0+J1S9ogxZbie7cBADi+qRLskkSXZKW9ltZZxMtL07Su33gbWpxUfAAAYlMl2BF6VJpUrwCAtekSbFy1alWkpWdFqVXRAADEpkuwLfROeKkuaAAAQph0FLGnes2pVmsrWmngEwAAKburYLXRxUtCbtWFq41aDqFulDIA4P/A98ECANDBlF3EAADsHQkWAIAOSLAAAHRAggUAoAMSLAAAHZBgAQDogAQLAEAHJFgAADr4A7bluYsFRtSZAAAAAElFTkSuQmCC",g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAABeCAYAAABb9TqmAAADyUlEQVR4nO3dy3HUMBwH4A1DBymGAwXQCV3QSC4MPdBEjrlQARcOqQFOzhhFkmXv3y/5+2YYNvuQ5Y1/a6+ix8PLy8vfL99/3/78/HED7vNh7wpATwQKAgkUBBIoCPRxuPH6/PTuwcdPXzetzD2G+o/rPN6nM+0L5/V2hhoOuMdPX9/+5UJ2VEP9cyESJrZSveQ7W6hgb919h7rCh8Dr81P3+3hWH6ef8r/0F5leaqUHdHq5VXr9VubUP73dWm7uPah9xytts2W7HMusQL0+P2UDMv7OlT5n/HPt9ZGGurRsa3zf+P/SAV7b5lBeus+lcnLbqb1/6bY4nvBLvrP+skvBWRL48fPveS3nM/uS715nuPY/Qx05ps0DtdUn8L2NE6XLRqipXvJtcUCND/q9W6+2DtHSfd37faLsYRi+8evb53cP5g6sqVayOfel22htUcsptYzlvuSXtp8+f064Wnua1FoD09fV9qlUPvt6MB4K4nT3h13Yk0BBIIGCQAIFgQQKAgkUBBIoCCRQEEigIJBAQSCBgkACBYEECgIJFAQSKAgkUBBIoCCQQEEggYJAAgWBuguUKbbY066B6v3g733/eG/XQK0xr9ywcEHNVge5efOup7tLPtjTKnObz1kfammZrTPVlsoozb567/pVU/vXMvNuas7Mt+wrPFBL1odqkc47npuHfOrgnJpieWr9qCXlpiGeWl8rV9Zwe6v1tVguNFC9Lw7W076wjs2Xs7nH+FN6rU/mtRsstPr17VSB2sLaZyFnub6FtvLllmepfSIv+bSOPjvNbUSILPve8jmeVZazaW3lm7PKelpGy9pVtXK3aOXL7V/r+lotK8QvqR/rsj4UBPKHXQgkUBBIoCCQQEEggYJAAgWBBAoCCRQECuvL1zo+qdSLYmq8U6m3gJ4CHEloT4mW8USlsVLj+263/BijXHch44E4klU7x5YGAA6P1crJ3c79DEey+XeoYSYgwaBH4eOhaj3IBYne7dbKZxwQPVotULkz0XD2yjU0jCeFzE0QOX6sdh/safMh8KUGh6lLwVJA4UjCZz263RzoXFdooASJq9P1CAIJFAQSKAh06UBZv4lolw6URhSiXTpQEO1y46Ei1m8yJouSS42Hmlu/JfXn2oyHgkCb9+WrTXx/BFNBX3t9Ks7NeKjE0evHsV16PNSS9ZucnahZbX2olnWZpi7/aq2Apfta6jZ+Tev6TWkZAkXO5oGCnhkPBYGMh4JAuh5BIIGCQAIFgQQKAgkUBBIoCCRQEEigIJBAQSCBgkACBYH+AUHH6ZSDKq4zAAAAAElFTkSuQmCC",b="/assets/image-20220212230447148-a1IcPlno.png",h="data:image/png;base64,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",f="/assets/image-20220213225003030-DXCZUHUY.png",A="/assets/image-20220213110153307-SUxokH8p.png",y={},q=a('<h2 id="_1-0-vue3-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_1-0-vue3-ä»‹ç»" aria-hidden="true">#</a> 1.0 vue3 ä»‹ç»</h2><h3 id="_1-1-ä¸ºä»€ä¹ˆè¦å­¦ä¹ -vue-3" tabindex="-1"><a class="header-anchor" href="#_1-1-ä¸ºä»€ä¹ˆè¦å­¦ä¹ -vue-3" aria-hidden="true">#</a> 1.1 ä¸ºä»€ä¹ˆè¦å­¦ä¹  vue 3</h3><p><img src="'+i+'" alt="image-20220212222422186"></p><p>ä¸ºä»€ä¹ˆè¦å­¦ vue3:</p><ol><li>Vue æ˜¯å›½å†…æœ€ç«çš„å‰ç«¯æ¡†æ¶</li><li>Vue 3 äº 2022 å¹´ 2 æœˆ 7 æ—¥æ˜ŸæœŸä¸€æˆä¸ºæ–°çš„é»˜è®¤ç‰ˆæœ¬ï¼ <ul><li>åŸæ–‡é“¾æ¥ï¼šhttps://blog.vuejs.org/posts/vue-3-as-the-new-default.html</li><li>ä¸­æ–‡é“¾æ¥ï¼šhttps://zhuanlan.zhihu.com/p/460055155</li></ul></li><li>Vue3 æ€§èƒ½æ›´é«˜ï¼Œä½“ç§¯æ›´å°</li><li>Vue3.0 åœ¨ç»è¿‡ä¸€å¹´çš„è¿­ä»£åï¼Œè¶Šæ¥è¶Šå¥½ç”¨</li></ol><p>å®˜æ–¹æ–‡æ¡£ï¼š</p><ul><li>vue3 å®˜æ–¹æ–‡æ¡£ï¼šhttps://vuejs.org/</li><li>vue3 ä¸­æ–‡æ–‡æ¡£ï¼šhttps://v3.cn.vuejs.org/</li></ul><p>ç›®å‰å·²æ”¯æŒ vue3 çš„ UI ç»„ä»¶åº“:</p><ul><li><p><strong>element-plus</strong></p><p>https://element-plus.gitee.io/#/zh-CN (PC ç»„ä»¶åº“)</p><p>Element Plusï¼Œä¸€å¥—ä¸ºå¼€å‘è€…ã€è®¾è®¡å¸ˆå’Œäº§å“ç»ç†å‡†å¤‡çš„åŸºäº Vue 3.0 çš„æ¡Œé¢ç«¯ç»„ä»¶åº“ã€‚</p></li><li><p><strong>vant</strong></p><p>https://vant-contrib.gitee.io/vant/v3/#/zh-CN</p><p>è½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ã€‚</p><p>Vant æ˜¯æœ‰èµå‰ç«¯å›¢é˜Ÿå¼€æºçš„ç§»åŠ¨ç«¯ç»„ä»¶åº“ï¼Œäº 2016 å¹´å¼€æºï¼Œå·²æŒç»­ç»´æŠ¤ 4 å¹´æ—¶é—´ã€‚</p><p>ç›®å‰ Vant å·²å®Œæˆäº†å¯¹ Vue 3.0 çš„é€‚é…å·¥ä½œï¼Œå¹¶å‘å¸ƒäº† Vant 3.0 ç‰ˆæœ¬</p></li></ul><ul><li><p><strong>ant-design-vue</strong> (PC ç»„ä»¶åº“)</p><p>https://antdv.com/./docs/vue/introduce-cn/</p><p>ant-design-vue æ˜¯ Ant Design çš„ Vue å®ç°ï¼Œç»„ä»¶çš„é£æ ¼ä¸ Ant Design ä¿æŒåŒæ­¥</p></li></ul><h3 id="_1-2-vue3-åŠ¨æœº-å’Œ-æ–°ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#_1-2-vue3-åŠ¨æœº-å’Œ-æ–°ç‰¹æ€§" aria-hidden="true">#</a> 1.2 Vue3 åŠ¨æœº å’Œ æ–°ç‰¹æ€§</h3><p>Vue3 è®¾è®¡ç†å¿µ https://vue3js.cn/vue-composition/</p><p>åŠ¨æœºä¸ç›®çš„:</p><ol><li><p>æ›´å¥½çš„é€»è¾‘å¤ç”¨ ä¸ ä»£ç ç»„ç»‡ (composition ç»„åˆå¼ api)</p><p>optionsAPI(æ—§) =&gt; compositionAPIï¼ˆæ–°ï¼‰, æ•ˆæœ: ä»£ç ç»„ç»‡æ›´æ–¹ä¾¿äº†, é€»è¾‘å¤ç”¨æ›´æ–¹ä¾¿äº† éå¸¸åˆ©äºç»´æŠ¤!!</p></li><li><p>æ›´å¥½çš„ç±»å‹æ¨å¯¼ (typescript æ”¯æŒ)</p><p>vue3 æºç ç”¨ ts é‡å†™äº†, vue3 å¯¹ ts çš„æ”¯æŒæ›´å‹å¥½äº† (ts å¯ä»¥è®©ä»£ç æ›´åŠ ç¨³å®š, ç±»å‹æ£€æµ‹! )</p></li></ol><p>vue3 æ–°ç‰¹æ€§ï¼š</p><ol><li><p>æ•°æ®å“åº”å¼åŸç†é‡æ–°å®ç° (ES6 proxy æ›¿ä»£äº† ES5 çš„ Object.defineProperty)</p><p>è§£å†³äº†: ä¾‹å¦‚æ•°ç»„çš„æ›´æ–°æ£€æµ‹ç­‰ bug, å¤§å¤§ä¼˜åŒ–äº†å“åº”å¼ç›‘å¬çš„æ€§èƒ½</p><p>(åŸæ¥æ£€æµ‹å¯¹è±¡å±æ€§çš„å˜åŒ–, éœ€è¦ä¸€ä¸ªä¸ªå¯¹å±æ€§é€’å½’ç›‘å¬) <strong>proxy å¯ä»¥ç›´æ¥å¯¹æ•´ä¸ªå¯¹è±¡åŠ«æŒ</strong></p></li><li><p>è™šæ‹Ÿ DOM - æ–°ç®—æ³• (æ›´å¿« æ›´å°)</p></li><li><p><strong>æä¾›äº† composition api, å¯ä»¥æ›´å¥½çš„é€»è¾‘å¤ç”¨</strong></p></li><li><p>æ¨¡æ¿å¯ä»¥æœ‰å¤šä¸ªæ ¹å…ƒç´ </p></li><li><p>æºç ç”¨ typescript é‡å†™, æœ‰æ›´å¥½çš„ç±»å‹æ¨å¯¼ (ç±»å‹æ£€æµ‹æ›´ä¸ºä¸¥æ ¼, æ›´ç¨³å®š)</p></li></ol><p><strong>å°ç»“ï¼š vue3 æ€§èƒ½æ›´é«˜, ä½“ç§¯æ›´å°, æ›´åˆ©äºå¤ç”¨, ä»£ç ç»´æŠ¤æ›´æ–¹ä¾¿</strong></p><h2 id="_2-0-vite-çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-0-vite-çš„ä½¿ç”¨" aria-hidden="true">#</a> 2.0 Vite çš„ä½¿ç”¨</h2><p><img src="'+u+'" alt="image-20220212223742250"></p><h3 id="_2-1-vite-ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2-1-vite-ä»‹ç»" aria-hidden="true">#</a> 2.1 vite ä»‹ç»</h3><blockquote><p>Vite å®˜æ–¹æ–‡æ¡£ï¼šhttps://cn.vitejs.dev/</p></blockquote><p>Viteï¼ˆæ³•è¯­æ„ä¸º &quot;å¿«é€Ÿçš„&quot;ï¼Œå‘éŸ³ <code>/vit/</code>ï¼Œå‘éŸ³åŒ &quot;veet&quot;)æ˜¯ä¸€ç§æ–°å‹å‰ç«¯æ„å»ºå·¥å…·</p><p><strong>ä¼˜åŠ¿</strong></p><ul><li>ğŸ’¡ æé€Ÿçš„æœåŠ¡å¯åŠ¨ï¼Œä½¿ç”¨åŸç”Ÿ ESM æ–‡ä»¶ï¼Œæ— éœ€æ‰“åŒ…</li><li>âš¡ï¸ è½»é‡å¿«é€Ÿçš„çƒ­é‡è½½ï¼Œå§‹ç»ˆæå¿«çš„æ¨¡å—çƒ­é‡è½½ï¼ˆHMRï¼‰</li><li>ğŸ› ï¸ ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå¯¹ TypeScriptã€JSXã€CSS ç­‰æ”¯æŒå¼€ç®±å³ç”¨</li><li>ğŸ“¦ ç­‰ç­‰</li></ul><h3 id="_2-2-ä¸ºä»€ä¹ˆé€‰-vite" tabindex="-1"><a class="header-anchor" href="#_2-2-ä¸ºä»€ä¹ˆé€‰-vite" aria-hidden="true">#</a> 2.2 ä¸ºä»€ä¹ˆé€‰ Vite ï¼Ÿ</h3><p><strong>ä¼ ç»Ÿæ–¹å¼</strong></p><ul><li>åŸºäºæ‰“åŒ…å™¨çš„æ–¹å¼å¯åŠ¨ï¼Œå¿…é¡»ä¼˜å…ˆæŠ“å–å¹¶æ„å»ºä½ çš„æ•´ä¸ªåº”ç”¨ï¼Œç„¶åæ‰èƒ½æä¾›æœåŠ¡ã€‚</li><li>æ›´æ–°é€Ÿåº¦ä¼šéšç€åº”ç”¨ä½“ç§¯å¢é•¿è€Œç›´çº¿ä¸‹é™ã€‚</li></ul><p><img src="'+r+'" alt="image-20220212224001104"></p><p><strong>vite æ–¹å¼</strong></p>',29),x={href:"https://gitee.com/link?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FJavaScript%2FGuide%2FModules",target:"_blank",rel:"noopener noreferrer"},w=n("li",null,"Vite åªéœ€è¦åœ¨æµè§ˆå™¨è¯·æ±‚æºç æ—¶è¿›è¡Œè½¬æ¢å¹¶æŒ‰éœ€æä¾›æºç ã€‚",-1),j=n("li",null,"æ ¹æ®æƒ…æ™¯åŠ¨æ€å¯¼å…¥ä»£ç ï¼Œå³åªåœ¨å½“å‰å±å¹•ä¸Šå®é™…ä½¿ç”¨æ—¶æ‰ä¼šè¢«å¤„ç†ã€‚",-1),P=a('<p><img src="'+k+`" alt="image-20220212224054798"></p><p>é—®é¢˜å°ç»“:</p><ul><li>Vite æ˜¯å¦éœ€è¦å…ˆæ‰“åŒ…æ‰èƒ½æä¾›æœåŠ¡ï¼Ÿ</li><li>ä½¿ç”¨ webpack èƒ½å¦åˆ›å»º vue3 çš„é¡¹ç›®ï¼Ÿ</li></ul><h3 id="_2-3-vite-çš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-3-vite-çš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> 2.3 Vite çš„åŸºæœ¬ä½¿ç”¨</h3><blockquote><p>ç›®æ ‡ï¼šèƒ½å¤Ÿä½¿ç”¨ vite åˆ›å»ºä¸€ä¸ª vue3 çš„é¡¹ç›®</p></blockquote><p>ï¼ˆ1ï¼‰ä½¿ç”¨ vite åˆ›å»ºé¡¹ç›®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> create vite
<span class="token comment"># or</span>
<span class="token function">yarn</span> create vite
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰è¾“å…¥é¡¹ç›®åå­—ï¼Œé»˜è®¤ä¸º vite-project</p><p><img src="`+d+'" alt="image-20220212224535365"></p><p>ï¼ˆ3ï¼‰é€‰æ‹©åˆ›å»ºçš„é¡¹ç›®ç±»å‹ï¼Œé€‰æ‹© vue å³å¯</p><p><img src="'+v+'" alt="image-20220212224709912"></p><p>ï¼ˆ4ï¼‰é€‰æ‹©åˆ›å»ºçš„ vue é¡¹ç›®ç±»å‹ï¼Œ ä¸é€‰ ts</p><p><img src="'+m+'" alt="image-20220212224735340"></p><p>ï¼ˆ5ï¼‰å¯åŠ¨é¡¹ç›®</p><p><img src="'+g+`" alt="image-20220212224801574"></p><p><strong>vite å¿«æ·ä½¿ç”¨</strong></p><p>å¦‚æœæƒ³è¦å¿«é€Ÿåˆ›å»ºä¸€ä¸ª vue3 é¡¹ç›®ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤</p><ul><li>åˆ›å»ºæ™®é€š vue é¡¹ç›®</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> create vite vite-demo <span class="token parameter variable">--template</span> vue
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>åˆ›å»ºåŸºäº ts æ¨¡æ¿çš„é¡¹ç›®</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">yarn</span> create vite vite-demo-ts <span class="token parameter variable">--template</span> vue-ts
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_2-4-vue3-0-é¡¹ç›®ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_2-4-vue3-0-é¡¹ç›®ä»‹ç»" aria-hidden="true">#</a> 2.4 Vue3.0 é¡¹ç›®ä»‹ç»</h3><blockquote><p>ä»»åŠ¡ç›®æ ‡ï¼šæŒæ¡ vue3 çš„é¡¹ç›®ç›®å½•ç»“æ„</p></blockquote><ul><li>ç›®å½•ä»‹ç»</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">|</span><span class="token operator">--</span> <span class="token punctuation">.</span>gitignore
<span class="token operator">|</span><span class="token operator">--</span> <span class="token constant">README</span><span class="token punctuation">.</span>md  			é¡¹ç›®ä»‹ç»
<span class="token operator">|</span><span class="token operator">--</span> index<span class="token punctuation">.</span>html 			é¡¹ç›®htmlé¡µé¢
<span class="token operator">|</span><span class="token operator">--</span> <span class="token keyword">package</span><span class="token punctuation">.</span>json 		è®°å½•åŒ…
<span class="token operator">|</span><span class="token operator">--</span> vite<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js 	å…³é—­viteçš„é…ç½®æ–‡ä»¶
<span class="token operator">|</span><span class="token operator">--</span> yarn<span class="token punctuation">.</span>lock
<span class="token operator">|</span><span class="token operator">--</span> <span class="token keyword">public</span> 					é™æ€èµ„æºæ–‡ä»¶ï¼Œä¸ä¼šè¿›è¡Œç¼–è¯‘
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">--</span> favicon<span class="token punctuation">.</span>ico
<span class="token operator">|</span><span class="token operator">--</span> src 						å¼€å‘ç›®å½•
<span class="token operator">|</span>   <span class="token operator">|</span><span class="token operator">--</span> mian<span class="token punctuation">.</span>js<span class="token punctuation">.</span>    å…¥å£æ–‡ä»¶
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ é™¤ src ä¸‹æ‰€æœ‰çš„æ–‡ä»¶å’Œä»£ç </li><li>åˆ›å»º main.js å…¥å£æ–‡ä»¶</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello vue3&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>createApp: è¯¥å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªæ ¹ç»„ä»¶å¯¹è±¡,è¿”å›ä¸€ä¸ªæä¾›åº”ç”¨ä¸Šä¸‹æ–‡çš„åº”ç”¨å®ä¾‹(è¯¥å®ä¾‹ç”¨äºæ¸²æŸ“åˆ°è¯¥åº”ç”¨ä¸Š)</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mountï¼Œå°†åº”ç”¨æ ¹ç»„ä»¶æ¸²æŸ“åˆ°å“ªé‡Œï¼Œæœ€ç»ˆä¼šé€šè¿‡ innerHtml è¿›è¡Œæ›¿æ¢</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-vscode-æ’ä»¶è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_2-5-vscode-æ’ä»¶è¯´æ˜" aria-hidden="true">#</a> 2.5 vscode æ’ä»¶è¯´æ˜</h3><ul><li>vue2 ä¸­éœ€è¦å®‰è£…æ’ä»¶<code>vetur</code>ï¼Œå¯ä»¥å®ç°ç»„ä»¶é«˜äº®ã€‚ä½†æ˜¯ vue3 çš„ä¸€äº›è¯­æ³•åœ¨ vetur ä¸­æŠ¥é”™ã€‚</li><li>vue3 ä¸­éœ€è¦å®‰è£…æ’ä»¶<code>volar</code>ï¼Œæä¾›äº†æ›´åŠ å¼ºå¤§çš„åŠŸèƒ½ã€‚</li><li>æ‰€ä»¥ï¼Œä½¿ç”¨åŠŸèƒ½ vue3ï¼Œéœ€è¦å¸è½½<code>vetur</code>æ’ä»¶ï¼Œå®‰è£…<code>volar</code>æ’ä»¶ã€‚</li></ul><p><img src="`+b+'" alt="image-20220212230447148"></p><h2 id="_3-0-ç»„åˆå¼-api" tabindex="-1"><a class="header-anchor" href="#_3-0-ç»„åˆå¼-api" aria-hidden="true">#</a> 3.0 ç»„åˆå¼ API</h2><h3 id="_3-1-composition-api-vs-options-api" tabindex="-1"><a class="header-anchor" href="#_3-1-composition-api-vs-options-api" aria-hidden="true">#</a> 3.1 composition API vs options API</h3><ol><li><p>vue2 é‡‡ç”¨çš„å°±æ˜¯ <code>optionsAPI</code></p><p>(1) ä¼˜ç‚¹:<strong><code>æ˜“äºå­¦ä¹ å’Œä½¿ç”¨</code></strong>, æ¯ä¸ªä»£ç æœ‰ç€æ˜ç¡®çš„ä½ç½® (ä¾‹å¦‚: æ•°æ®æ”¾ data ä¸­, æ–¹æ³•æ”¾ methods ä¸­)</p><p>(2) ç¼ºç‚¹: ç›¸ä¼¼çš„é€»è¾‘, ä¸å®¹æ˜“å¤ç”¨, åœ¨å¤§é¡¹ç›®ä¸­å°¤ä¸ºæ˜æ˜¾</p><p>(3) è™½ç„¶ optionsAPI å¯ä»¥é€šè¿‡ mixins æå–ç›¸åŒçš„é€»è¾‘, ä½†æ˜¯ä¹Ÿå¹¶ä¸æ˜¯ç‰¹åˆ«å¥½ç»´æŠ¤</p></li><li><p>vue3 æ–°å¢çš„å°±æ˜¯ <code>compositionAPI </code></p><p>(1) compositionAPI æ˜¯åŸºäº <strong>é€»è¾‘åŠŸèƒ½</strong> ç»„ç»‡ä»£ç çš„, ä¸€ä¸ªåŠŸèƒ½ api ç›¸å…³æ”¾åˆ°ä¸€èµ·</p><p>(2) å³ä½¿é¡¹ç›®å¤§äº†, åŠŸèƒ½å¤šäº†, ä¹Ÿèƒ½å¿«é€Ÿå®šä½åŠŸèƒ½ç›¸å…³çš„ api</p><p>(3) å¤§å¤§çš„æå‡äº† <code>ä»£ç å¯è¯»æ€§</code> å’Œ <code>å¯ç»´æŠ¤æ€§</code></p></li><li><p>vue3 æ¨èä½¿ç”¨ composition API, ä¹Ÿä¿ç•™äº† options API</p><p>å³å°±ç®—ä¸ç”¨ composition API, ç”¨ vue2 çš„å†™æ³•ä¹Ÿå®Œå…¨å…¼å®¹!!</p></li></ol><p>é—®é¢˜å°ç»“:<code> optionsAPI</code>çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ? vue3 æ–°å¢çš„ <code>compositionAPI </code> æœ‰ä»€ä¹ˆç‰¹å¾? æœ‰ä»€ä¹ˆä¼˜åŠ¿?</p><h3 id="_3-2-ä½“éªŒ-composition-api" tabindex="-1"><a class="header-anchor" href="#_3-2-ä½“éªŒ-composition-api" aria-hidden="true">#</a> 3.2 ä½“éªŒ composition API</h3><p><strong>éœ€æ±‚: é¼ æ ‡ç§»åŠ¨æ˜¾ç¤ºé¼ æ ‡åæ ‡ x, y</strong></p><p><img src="'+h+`" alt="image-20220212232734773"></p><p>options API ç‰ˆæœ¬</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å½“å‰é¼ æ ‡ä½ç½®</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">x: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>x <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">y: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å½“å‰ç‚¹å‡»æ¬¡æ•°ï¼š</span><span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;button @click=&quot;add&quot;&gt;ç‚¹å‡»</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
  // vue2 ä¸­é‡‡ç”¨çš„æ˜¯ options API
  // å¸¸è§çš„é…ç½®é¡¹: data created methods watch computed components
  data() {
    return {
      mouse: {
        x: 0,
        y: 0,
      },
      count: 0,
    }
  },
  mounted() {
    document.addEventListener(&#39;mousemove&#39;, this.move)
  },
  methods: {
    move(e) {
      this.mouse.x = e.pageX
      this.mouse.y = e.pageY
    },
    add() {
      this.count++
    },
  },
  destroyed() {
    document.removeEventListener(&#39;mousemove&#39;, this.move)
  },
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>composition API ç‰ˆæœ¬</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>å½“å‰é¼ æ ‡ä½ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>x: {{ mouse.x }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>y: {{ mouse.y }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>å½“å‰ç‚¹å‡»æ¬¡æ•°ï¼š{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUnmounted<span class="token punctuation">,</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> mouse <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      mouse<span class="token punctuation">.</span>x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX
      mouse<span class="token punctuation">.</span>y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY
    <span class="token punctuation">}</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;mousemove&#39;</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;mousemove&#39;</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">,</span>
      add<span class="token punctuation">,</span>
      mouse
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠ½ç¦»é€»è¾‘</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">function</span> <span class="token function">useMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> mouse <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">move</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    mouse<span class="token punctuation">.</span>x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX
    mouse<span class="token punctuation">.</span>y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY
  <span class="token punctuation">}</span>
  <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;mousemove&#39;</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;mousemove&#39;</span><span class="token punctuation">,</span> move<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> mouse
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">useCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">.</span>value<span class="token operator">++</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    count<span class="token punctuation">,</span>
    add
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é—®é¢˜å°ç»“:<code> optionsAPI</code>çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆ? vue3 æ–°å¢çš„ <code>compositionAPI </code> æœ‰ä»€ä¹ˆç‰¹å¾? æœ‰ä»€ä¹ˆä¼˜åŠ¿?</p><p>optionsAPI:</p><ul><li>ä¼˜ç‚¹:<strong><code>æ˜“äºå­¦ä¹ å’Œä½¿ç”¨</code></strong>, æ¯ä¸ªä»£ç æœ‰ç€æ˜ç¡®çš„ä½ç½®</li><li>ç¼ºç‚¹: ç›¸ä¼¼çš„é€»è¾‘, ä¸å®¹æ˜“å¤ç”¨</li><li>vue2 å¯ä»¥åˆ©ç”¨ mixin è§£å†³è¯¥é—®é¢˜</li></ul><p>compositionAPI:</p><ul><li>åŸºäº <strong>é€»è¾‘åŠŸèƒ½</strong> ç»„ç»‡ä»£ç </li><li>å¯ç»´æŠ¤æ€§å¥½!</li></ul><h3 id="_3-3-setup-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-3-setup-å‡½æ•°" aria-hidden="true">#</a> 3.3 setup å‡½æ•°</h3><p>composition api çš„ä½¿ç”¨, éœ€è¦é…ç½®ä¸€ä¸ª setup å‡½æ•°</p><ol><li>setup å‡½æ•°æ˜¯ä¸€ä¸ªæ–°çš„ç»„ä»¶é€‰é¡¹, ä½œä¸ºç»„ä»¶ä¸­ compositionAPI çš„èµ·ç‚¹</li><li>ä»ç”Ÿå‘½å‘¨æœŸè§’åº¦æ¥çœ‹, setup ä¼šåœ¨ beforeCreate é’©å­å‡½æ•°ä¹‹å‰æ‰§è¡Œ</li><li><strong>setup ä¸­ä¸èƒ½ä½¿ç”¨ this, this æŒ‡å‘ undefined</strong></li><li>åœ¨æ¨¡ç‰ˆä¸­éœ€è¦ä½¿ç”¨çš„æ•°æ®å’Œå‡½æ•°ï¼Œéœ€è¦åœ¨ <code>setup</code> è¿”å›ã€‚</li></ol><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    &lt;h1 @click=&quot;say()&quot;&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>msg<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
export default {
  setup () {
    console.log(&#39;setupæ‰§è¡Œäº†&#39;)
    console.log(this)
    // å®šä¹‰æ•°æ®å’Œå‡½æ•°
    const msg = &#39;hi vue3&#39;
    const say = () =&gt; {
      console.log(msg)
    }

    return { msg , say}
  },
  beforeCreate() {
    console.log(&#39;beforeCreateæ‰§è¡Œäº†&#39;)
    console.log(this)
  }
}
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-4-reactive-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-4-reactive-å‡½æ•°" aria-hidden="true">#</a> 3.4 reactive å‡½æ•°</h3><p><strong>å‰ç½®è¯´æ˜:</strong></p><ol><li>setup éœ€è¦æœ‰è¿”å›å€¼, åªæœ‰è¿”å›çš„å€¼æ‰èƒ½åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</li><li>é»˜è®¤æ™®é€šçš„æ•°æ®, ä¸æ˜¯å“åº”å¼çš„</li></ol><p><strong>ä½œç”¨: ä¼ å…¥ä¸€ä¸ªå¤æ‚æ•°æ®ç±»å‹ï¼Œå°†å¤æ‚ç±»å‹æ•°æ®, è½¬æ¢æˆå“åº”å¼æ•°æ® ï¼ˆè¿”å›è¯¥å¯¹è±¡çš„å“åº”å¼ä»£ç†ï¼‰</strong></p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ obj.age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>obj.name = &#39;ls&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ”¹å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. setup éœ€è¦è¿”å›å€¼, è¿”å›çš„å€¼æ‰èƒ½åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨</span>
    <span class="token comment">// 2. é»˜è®¤çš„æ™®é€šçš„å€¼ä¸æ˜¯å“åº”å¼çš„, éœ€è¦ç”¨ reactive å‡½æ•°</span>
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      obj
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ€»ç»“ï¼š</strong> é€šå¸¸æ˜¯ç”¨æ¥å®šä¹‰å“åº”å¼ <strong>å¯¹è±¡æ•°æ®</strong></p><p>é—®é¢˜å°ç»“:</p><ol><li>é»˜è®¤ setup å‡½æ•°ä¸­è¿”å›çš„ æ™®é€šå¯¹è±¡ æ˜¯å“åº”å¼çš„ä¹ˆ ?</li><li>reactive å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆ ?</li></ol><h3 id="_3-5-ref-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-5-ref-å‡½æ•°" aria-hidden="true">#</a> 3.5 ref å‡½æ•°</h3><p>reactive å¤„ç†çš„æ•°æ®, å¿…é¡»æ˜¯å¤æ‚ç±»å‹, å¦‚æœæ˜¯ç®€å•ç±»å‹æ— æ³•å¤„ç†æˆå“åº”å¼, æ‰€ä»¥æœ‰ ref å‡½æ•°!</p><p>ä½œç”¨: å¯¹ä¼ å…¥çš„æ•°æ®ï¼ˆä¸€èˆ¬ç®€å•æ•°æ®ç±»å‹ï¼‰ï¼ŒåŒ…è£¹ä¸€å±‚å¯¹è±¡, è½¬æ¢æˆå“åº”å¼ã€‚</p><ol><li>ref å‡½æ•°æ¥æ”¶ä¸€ä¸ªçš„å€¼, è¿”å›ä¸€ä¸ª ref å“åº”å¼å¯¹è±¡, æœ‰å”¯ä¸€çš„å±æ€§ value</li><li>åœ¨ setup å‡½æ•°ä¸­, é€šè¿‡ è¿”å›å€¼ ref å¯¹è±¡çš„ value å±æ€§, å¯ä»¥è®¿é—®åˆ°å€¼</li><li>åœ¨æ¨¡æ¿ä¸­, ref å±æ€§ä¼šè‡ªåŠ¨è§£å¥—, ä¸éœ€è¦é¢å¤–çš„ .value</li><li>ref å‡½æ•°ä¹Ÿæ”¯æŒä¼ å…¥å¤æ‚ç±»å‹ï¼Œä¼ å…¥å¤æ‚ç±»å‹ï¼Œä¹Ÿä¼šåšå“åº”å¼å¤„ç†</li></ol><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ”¹å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    money<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      money
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ref å’Œ reactive çš„æœ€ä½³ä½¿ç”¨æ–¹å¼ï¼š</p><ul><li>å¼€å‘å¯ä»¥å…¨éƒ¨ä½¿ç”¨ refï¼Œä½†æ˜¯å¤æ‚æ•°æ®ç±»å‹éœ€è¦é€šè¿‡.value</li><li>å¤æ‚æ•°æ®ä½¿ç”¨ reactiveï¼Œç®€å•æ•°æ®ä½¿ç”¨ ref</li><li>ä» vue3.2 ä¹‹åï¼Œå¤æ‚çš„é¡¹ç›®æ›´æ¨èä½¿ç”¨ refï¼ˆåº•å±‚æ€§èƒ½æå‡ 260%ï¼‰</li></ul><p>é—®é¢˜å°ç»“:</p><ul><li>ref å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆ ?</li><li>ref å‡½æ•°åŒ…è£¹ç®€å•ç±»å‹å, ä¼šåŒ…è£¹æˆå¯¹è±¡, åœ¨æ¨¡æ¿ä¸­éœ€è¦ .value ä¹ˆ? åœ¨ setup ä¸­éœ€è¦ .value ä¹ˆ?</li></ul><h3 id="_3-6-script-setup-è¯­æ³•-â˜…" tabindex="-1"><a class="header-anchor" href="#_3-6-script-setup-è¯­æ³•-â˜…" aria-hidden="true">#</a> 3.6 script setup è¯­æ³•(â˜…)</h3><blockquote><p>script setup æ˜¯åœ¨å•æ–‡ä»¶ç»„ä»¶ (SFC:single-file-component) ä¸­ä½¿ç”¨ç»„åˆå¼ API çš„ç¼–è¯‘æ—¶è¯­æ³•ç³–ã€‚ç›¸æ¯”äºæ™®é€šçš„ script è¯­æ³•æ›´åŠ ç®€æ´</p><p>vue3.2: å‘å¸ƒäº 2021-08-10</p></blockquote><p>è¦ä½¿ç”¨è¿™ä¸ªè¯­æ³•ï¼Œéœ€è¦å°† <code>setup</code> attribute æ·»åŠ åˆ° <code>&lt;script&gt;</code> ä»£ç å—ä¸Šï¼š</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello script setup&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¡¶å±‚çš„ç»‘å®šä¼šè‡ªåŠ¨æš´éœ²ç»™æ¨¡æ¿ï¼Œæ‰€ä»¥å®šä¹‰çš„å˜é‡ï¼Œå‡½æ•°å’Œ import å¯¼å…¥çš„å†…å®¹éƒ½å¯ä»¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­ç›´æ¥ä½¿ç”¨</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ ¹ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»æ¬¡æ•°ï¼š{{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç‚¹å‡»ä¿®æ”¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      count<span class="token punctuation">.</span>value<span class="token operator">++</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-7-æ¡ˆä¾‹-æ˜¾ç¤ºé¼ æ ‡æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_3-7-æ¡ˆä¾‹-æ˜¾ç¤ºé¼ æ ‡æ¡ˆä¾‹" aria-hidden="true">#</a> 3.7 æ¡ˆä¾‹ï¼šæ˜¾ç¤ºé¼ æ ‡æ¡ˆä¾‹</h3><blockquote><p>ä½¿ç”¨ setup è¯­æ³•å®Œæˆé¼ æ ‡æ¡ˆä¾‹</p></blockquote><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å½“å‰é¼ æ ‡ä½ç½®</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">x: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>x <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">y: </span><span class="token punctuation">{</span><span class="token punctuation">{</span> mouse<span class="token punctuation">.</span>y <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">å½“å‰ç‚¹å‡»æ¬¡æ•°ï¼š</span><span class="token punctuation">{</span><span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  &lt;button @click=&quot;add&quot;&gt;ç‚¹å‡»</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
import { onMounted, onUnmounted, reactive, ref } from &#39;vue&#39;
const count = ref(0)
const add = () =&gt; {
  count.value++
}
const mouse = reactive({
  x: 0,
  y: 0,
})
const move = (e) =&gt; {
  mouse.x = e.pageX
  mouse.y = e.pageY
}
onMounted(() =&gt; {
  document.addEventListener(&#39;mousemove&#39;, move)
})
onUnmounted(() =&gt; {
  document.removeEventListener(&#39;mousemove&#39;, move)
})
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-8-è®¡ç®—å±æ€§-computed-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-8-è®¡ç®—å±æ€§-computed-å‡½æ•°" aria-hidden="true">#</a> 3.8 è®¡ç®—å±æ€§ computed å‡½æ•°</h3><p>computed å‡½æ•°è°ƒç”¨æ—¶, è¦æ¥æ”¶ä¸€ä¸ªå¤„ç†å‡½æ•°, å¤„ç†å‡½æ•°ä¸­, éœ€è¦è¿”å›è®¡ç®—å±æ€§çš„å€¼</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    æˆ‘ä»Šå¹´çš„å¹´çºª
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜å¹´çš„å¹´é¾„ {{ nextAge }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    æˆ‘åå¹´çš„å¹´é¾„
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nextAge2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// ä¸å¸¦setçš„è®¡ç®—å±æ€§</span>
<span class="token keyword">const</span> nextAge <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">+</span>age<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// å¸¦setçš„è®¡ç®—å±æ€§</span>
<span class="token keyword">const</span> nextAge2 <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">+</span>age<span class="token punctuation">.</span>value <span class="token operator">+</span> <span class="token number">2</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">.</span>value <span class="token operator">=</span> value <span class="token operator">-</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é—®é¢˜å°ç»“: computed å‡½æ•°æä¾›è®¡ç®—å±æ€§, æœ‰å‡ ç§å†™æ³•?</p><h3 id="_3-9-ä¾¦å¬å™¨-watch-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-9-ä¾¦å¬å™¨-watch-å‡½æ•°" aria-hidden="true">#</a> 3.9 ä¾¦å¬å™¨ watch å‡½æ•°</h3><pre><code>watchç›‘è§†, æ¥æ”¶ä¸‰ä¸ªå‚æ•°
1. å‚æ•°1: ç›‘è§†çš„æ•°æ®æº
2. å‚æ•°2: å›è°ƒå‡½æ•°
3. å‚æ•°3: é¢å¤–çš„é…ç½®
</code></pre><h3 id="_3-9-1-ç›‘è§†-ref-ç®€å•æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-9-1-ç›‘è§†-ref-ç®€å•æ•°æ®" aria-hidden="true">#</a> 3.9.1 ç›‘è§† ref ç®€å•æ•°æ®</h3><p>ç›‘å¬å•ä¸ª ref</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// ç›‘å¬å•ä¸ªref</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>money<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›‘å¬å¤šä¸ª ref</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// ç›‘å¬å¤šä¸ªref</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>money<span class="token punctuation">,</span> count<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-9-2-ç›‘å¬-ref-å¤æ‚æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-9-2-ç›‘å¬-ref-å¤æ‚æ•°æ®" aria-hidden="true">#</a> 3.9.2 ç›‘å¬ ref å¤æ‚æ•°æ®</h3><p>ç›‘å¬ ref å¤æ‚æ•°æ®ï¼Œéœ€è¦é€šè¿‡ watch ç¬¬ä¸‰ä¸ªå‚æ•°è¿›è¡Œé…ç½®æ·±åº¦ç›‘å¬</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token comment">// ç›‘å¬refå¤æ‚æ•°æ®</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  user<span class="token punctuation">,</span>
  <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;userå˜åŒ–äº†&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token comment">// æ·±åº¦ç›‘å¬ï¼Œï¼Œï¼Œå½“refçš„å€¼æ˜¯ä¸€ä¸ªå¤æ‚æ•°æ®ç±»å‹ï¼Œéœ€è¦æ·±åº¦ç›‘å¬</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›‘å¬å¯¹è±¡çš„æŸä¸ªå±æ€§å˜åŒ–</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user<span class="token punctuation">.</span>value<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
  <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-9-3-ç›‘å¬-reactive-æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-9-3-ç›‘å¬-reactive-æ•°æ®" aria-hidden="true">#</a> 3.9.3 ç›‘å¬ reactive æ•°æ®</h3><p>ç›‘è§†å•ä¸ª reactive,ä¸éœ€è¦å¼€å¯æ·±åº¦ç›‘å¬</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;userå˜åŒ–äº†&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›‘è§† reactive æŸä¸ªå±æ€§</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> user<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
  <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;userå˜åŒ–äº†&#39;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›‘è§†å¤šä¸ª reactive å’Œ ref ä½¿ç”¨æ•°ç»„</p><h3 id="_3-10-é’©å­å‡½æ•°çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-10-é’©å­å‡½æ•°çš„ä½¿ç”¨" aria-hidden="true">#</a> 3.10 é’©å­å‡½æ•°çš„ä½¿ç”¨</h3>`,105),B={href:"https://vue3js.cn/./docs/zh/api/composition-api.html#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90",target:"_blank",rel:"noopener noreferrer"},S=a(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> onMounted<span class="token punctuation">,</span> onUpdated<span class="token punctuation">,</span> onUnmounted <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> MyComponent <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;mounted!&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;updated!&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;unmounted!&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+f+`" alt="image-20220213225003030"></p><h3 id="_3-11-ç»„ä»¶é€šè®¯-çˆ¶ä¼ å­" tabindex="-1"><a class="header-anchor" href="#_3-11-ç»„ä»¶é€šè®¯-çˆ¶ä¼ å­" aria-hidden="true">#</a> 3.11 ç»„ä»¶é€šè®¯-çˆ¶ä¼ å­</h3><blockquote><p>ç›®æ ‡ï¼šèƒ½å¤Ÿå®ç°ç»„ä»¶é€šè®¯ä¸­çš„çˆ¶ä¼ å­ç»„ä»¶é€šè®¯</p></blockquote><p>æ­¥éª¤ï¼š</p><ol><li>çˆ¶ç»„ä»¶æä¾›æ•°æ®</li><li>çˆ¶ç»„ä»¶å°†æ•°æ®é€šè¿‡å±æ€§ä¼ é€’ç»™å­ç»„ä»¶</li><li>å­ç»„ä»¶é€šè¿‡ defineProps è¿›è¡Œæ¥æ”¶</li><li>å­ç»„ä»¶æ¸²æŸ“çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®</li></ol><p><strong>æ ¸å¿ƒä»£ç ï¼š</strong></p><p>çˆ¶ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token comment">// åœ¨setupè¯­æ³•ä¸­ï¼Œç»„ä»¶å¯¼å…¥ä¹‹åå°±èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦ä½¿ç”¨componentsè¿›è¡Œå±€éƒ¨æ³¨å†Œ</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;./components/Son.vue&#39;</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;ç›èæ‹‰è’‚&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>é‡‘é’±ï¼š{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>è½¦è¾†ï¼š{{ car }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:money</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:car</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­ç»„ä»¶</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">æˆ‘æ˜¯å­ç»„ä»¶</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">{</span> money <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain-text"> --- </span><span class="token punctuation">{</span><span class="token punctuation">{</span> car <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
// defineProps: æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®
defineProps({
  money: Number,
  car: String,
})

</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨ defineProps æ¥æ”¶æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®åªèƒ½åœ¨æ¨¡æ¿ä¸­æ¸²æŸ“ï¼Œå¦‚æœæƒ³è¦åœ¨ script ä¸­ä¹Ÿæ“ä½œ props å±æ€§ï¼Œåº”è¯¥æ¥æ”¶è¿”å›å€¼ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// defineProps: æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„æ•°æ®</span>
<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
  <span class="token literal-property property">car</span><span class="token operator">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>money<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>car<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-12-ç»„ä»¶é€šè®¯-å­ä¼ çˆ¶" tabindex="-1"><a class="header-anchor" href="#_3-12-ç»„ä»¶é€šè®¯-å­ä¼ çˆ¶" aria-hidden="true">#</a> 3.12 ç»„ä»¶é€šè®¯-å­ä¼ çˆ¶</h3><blockquote><p>ç›®æ ‡ï¼šèƒ½å¤Ÿå®ç°ç»„ä»¶é€šè®¯ä¸­çš„å­ä¼ çˆ¶</p></blockquote><p><strong>æ­¥éª¤ï¼š</strong></p><ol><li>å­ç»„ä»¶é€šè¿‡ defineEmit è·å– emit å¯¹è±¡ï¼ˆå› ä¸ºæ²¡æœ‰ this)</li><li>å­ç»„ä»¶é€šè¿‡ emit è§¦å‘äº‹ä»¶ï¼Œå¹¶ä¸”ä¼ é€’æ•°æ®</li><li>çˆ¶ç»„ä»¶æä¾›æ–¹æ³•</li><li>çˆ¶ç»„ä»¶é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶çš„æ–¹å¼ç»™å­ç»„ä»¶æ³¨å†Œäº‹ä»¶</li></ol><p><strong>æ ¸å¿ƒä»£ç </strong></p><p>å­ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">money</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
  <span class="token literal-property property">car</span><span class="token operator">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// å‚æ•°æ•°ç»„ä¸­è¿›è¡Œå£°æ˜ï¼Œå¯ä»¥è§¦å‘å“ªäº›è‡ªå®šä¹‰äº‹ä»¶</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;changeMoney&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">change</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;changeMoney&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çˆ¶ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token comment">// åœ¨setupè¯­æ³•ä¸­ï¼Œç»„ä»¶å¯¼å…¥ä¹‹åå°±èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦ä½¿ç”¨componentsè¿›è¡Œå±€éƒ¨æ³¨å†Œ</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;./components/Son.vue&#39;</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;ç›èæ‹‰è’‚&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeMoney</span> <span class="token operator">=</span> <span class="token parameter">num</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  money<span class="token punctuation">.</span>value <span class="token operator">=</span> money<span class="token punctuation">.</span>value <span class="token operator">-</span> num
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span> <span class="token attr-name">:money</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>money<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:car</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>car<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@changeMoney</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMoney<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-13-ä¾èµ–æ³¨å…¥-provide-å’Œ-inject" tabindex="-1"><a class="header-anchor" href="#_3-13-ä¾èµ–æ³¨å…¥-provide-å’Œ-inject" aria-hidden="true">#</a> 3.13 ä¾èµ–æ³¨å…¥ - provide å’Œ inject</h3><p>ä¾èµ–æ³¨å…¥, å¯ä»¥éå¸¸æ–¹ä¾¿çš„å®ç° è·¨å±‚çº§çš„ ç»„ä»¶é€šä¿¡</p><p><img src="`+A+`" alt="image-20220213110153307"></p><h3 id="_3-13-1-ä¼ é€’å•ä¸ªæ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-13-1-ä¼ é€’å•ä¸ªæ•°æ®" aria-hidden="true">#</a> 3.13.1 ä¼ é€’å•ä¸ªæ•°æ®</h3><p>çˆ¶ç»„ä»¶åˆ©ç”¨ provide æä¾›æ•°æ®</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;./components/Son.vue&#39;</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;money&#39;</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯çˆ¶ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>é‡‘é’±ï¼š{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Son</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Son</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­ç»„ä»¶ (å­å­™åä»£, éƒ½å¯ä»¥æ‹¿åˆ°è¿™ä¸ªæ•°æ®)</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;money&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯å­ç»„ä»¶--{{ money }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-13-2-ä¼ é€’å¤šä¸ªæ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-13-2-ä¼ é€’å¤šä¸ªæ•°æ®" aria-hidden="true">#</a> 3.13.2 ä¼ é€’å¤šä¸ªæ•°æ®</h3><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;./components/Son.vue&#39;</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> house <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;å¤§åˆ«å¢…123&#39;</span><span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;parentData&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  money<span class="token punctuation">,</span>
  house
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-13-3-å¯ä»¥å¤šæ¬¡ä¼ é€’å’Œæ¥æ”¶" tabindex="-1"><a class="header-anchor" href="#_3-13-3-å¯ä»¥å¤šæ¬¡ä¼ é€’å’Œæ¥æ”¶" aria-hidden="true">#</a> 3.13.3 å¯ä»¥å¤šæ¬¡ä¼ é€’å’Œæ¥æ”¶</h3><p>æ ¹ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;./components/Son.vue&#39;</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> house <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;å¤§åˆ«å¢…&#39;</span><span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;money&#39;</span><span class="token punctuation">,</span> money<span class="token punctuation">)</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;house&#39;</span><span class="token punctuation">,</span> house<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;money&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> house <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;house&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-13-4-å­ç»„ä»¶è·¨ç»„å»ºå‘ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#_3-13-4-å­ç»„ä»¶è·¨ç»„å»ºå‘ä¸Šä¼ " aria-hidden="true">#</a> 3.13.4 å­ç»„ä»¶è·¨ç»„å»ºå‘ä¸Šä¼ </h3><p>çˆ¶ç»„ä»¶æä¾›æ–¹æ³•</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> provide<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Son <span class="token keyword">from</span> <span class="token string">&#39;./components/Son.vue&#39;</span>
<span class="token keyword">const</span> money <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token comment">// æ¥æ”¶å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œå¹¶ä¿®æ”¹money</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeMoney</span> <span class="token operator">=</span> <span class="token parameter">val</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  money<span class="token punctuation">.</span>value <span class="token operator">=</span> val
<span class="token punctuation">}</span>
<span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;changeMoney&#39;</span><span class="token punctuation">,</span> changeMoney<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­ç»„ä»¶è°ƒç”¨æ–¹æ³•é€šè¿‡å‚æ•°ä¼ é€’æ•°æ®</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> inject <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> changeMoney <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;changeMoney&#39;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯å­ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeMoney(100000)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ä¿®æ”¹æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-14-æ¨¡æ¿ä¸­-ref-çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-14-æ¨¡æ¿ä¸­-ref-çš„ä½¿ç”¨" aria-hidden="true">#</a> 3.14 æ¨¡æ¿ä¸­ ref çš„ä½¿ç”¨</h3><p>è”æƒ³ä¹‹å‰çš„ ref å’Œ $refsï¼Œ è·å–æ¨¡æ¿çš„å…ƒç´ ï¼ˆdom å…ƒç´ ï¼Œç»„ä»¶ï¼‰</p><h3 id="_3-14-1-ref-æ“ä½œ-dom" tabindex="-1"><a class="header-anchor" href="#_3-14-1-ref-æ“ä½œ-dom" aria-hidden="true">#</a> 3.14.1 ref æ“ä½œ dom</h3><p>1 åˆ›å»º ref =&gt; <code>const hRef = ref(null)</code></p><p>2 æ¨¡æ¿ä¸­å»ºç«‹å…³è” =&gt; <code>&lt;h1 ref=&quot;hRef&quot;&gt;é’©å­å‡½æ•°-----123&lt;/h1&gt;</code></p><p>3 ä½¿ç”¨ =&gt; <code>hRef.value</code></p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> hRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">clickFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  hRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&#39;æˆ‘ä¸æ˜¯æ ‡é¢˜&#39;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hRef<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯æ ‡é¢˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickFn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ“ä½œDOM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-14-2ref-æ“ä½œç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-14-2ref-æ“ä½œç»„ä»¶" aria-hidden="true">#</a> 3.14.2ref æ“ä½œç»„ä»¶</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>çˆ¶ç»„ä»¶ï¼š<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Form ref<span class="token operator">=</span><span class="token string">&quot;formRef&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;getForm&quot;</span><span class="token operator">&gt;</span>è·å–è¡¨å•ç»„ä»¶<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Form <span class="token keyword">from</span> <span class="token string">&#39;./components/Form.vue&#39;</span>

<span class="token keyword">const</span> formRef <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">getForm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  formRef<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&#39;less&#39;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦é…åˆ defineExpose</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯Formè¡¨å•ç»„ä»¶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">const</span> <span class="token function-variable function">validate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;è¿›è¡Œè¡¨å•æ ¡éªŒ&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">defineExpose</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  validate
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-15-vue3-ä¸­åºŸå¼ƒäº†è¿‡æ»¤å™¨" tabindex="-1"><a class="header-anchor" href="#_3-15-vue3-ä¸­åºŸå¼ƒäº†è¿‡æ»¤å™¨" aria-hidden="true">#</a> 3.15 vue3 ä¸­åºŸå¼ƒäº†è¿‡æ»¤å™¨</h3><blockquote><p>vue3.0 ä¸­ä¸èƒ½ä½¿ç”¨è¿‡æ»¤å™¨ï¼Œç›´æ¥ä½¿ç”¨å‡½æ•°è¿›è¡Œæ›¿ä»£</p></blockquote><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>refçš„ä½¿ç”¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯ä¸€ä¸ªh3çš„å†…å®¹ {{ formatTime(now) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{ formatTime(other) }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> dayJs <span class="token keyword">from</span> <span class="token string">&#39;dayjs&#39;</span>

<span class="token comment">// è¿‡æ»¤å™¨</span>
<span class="token keyword">const</span> now <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> other <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">&#39;2020-11-12 12:00:00&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">formatTime</span> <span class="token operator">=</span> <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">dayJs</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&#39;YYYY-MM-DD&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-16-è¡¥å……-torefs-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_3-16-è¡¥å……-torefs-å‡½æ•°" aria-hidden="true">#</a> 3.16 è¡¥å……-toRefs å‡½æ•°</h3><p><strong>ä½¿ç”¨åœºæ™¯: å¦‚æœå¯¹ä¸€ä¸ªå“åº”æ•°æ®, è¿›è¡Œè§£æ„ æˆ–è€… å±•å¼€, ä¼šä¸¢å¤±ä»–çš„å“åº”å¼ç‰¹æ€§!</strong></p><p>åŸå› : vue3 åº•å±‚æ˜¯å¯¹ å¯¹è±¡ è¿›è¡Œç›‘å¬åŠ«æŒ</p><p>ä½œç”¨: å¯¹ä¸€ä¸ªå“åº”å¼å¯¹è±¡çš„æ‰€æœ‰å†…éƒ¨å±æ€§, éƒ½åšå“åº”å¼å¤„ç†</p><ol><li>reactive/ref çš„å“åº”å¼åŠŸèƒ½æ˜¯èµ‹å€¼ç»™å¯¹è±¡çš„, å¦‚æœç»™å¯¹è±¡è§£æ„æˆ–è€…å±•å¼€, ä¼šè®©æ•°æ®ä¸¢å¤±å“åº”å¼çš„èƒ½åŠ›</li><li><strong>ä½¿ç”¨ toRefs å¯ä»¥ä¿è¯è¯¥å¯¹è±¡å±•å¼€çš„æ¯ä¸ªå±æ€§éƒ½æ˜¯å“åº”å¼çš„</strong></li></ol><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age++<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ”¹å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> toRefs <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;zs&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">toRefs</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é—®é¢˜å°ç»“: toRefs å‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆ ?</p><p>ä½œç”¨: å¯¹ä¸€ä¸ª <strong>å“åº”å¼å¯¹è±¡</strong> çš„å†…éƒ¨å±æ€§,ä¿è¯<strong>å±•å¼€æˆ–è€…è§£æ„å‡ºçš„æ•°æ®ä¹Ÿæ˜¯å“åº”å¼çš„</strong></p><h2 id="_4-0-æ¡ˆä¾‹-todomvc" tabindex="-1"><a class="header-anchor" href="#_4-0-æ¡ˆä¾‹-todomvc" aria-hidden="true">#</a> 4.0 æ¡ˆä¾‹ - todoMVC</h2><h3 id="_4-1-åŸºæœ¬æ¶å­æ­å»º" tabindex="-1"><a class="header-anchor" href="#_4-1-åŸºæœ¬æ¶å­æ­å»º" aria-hidden="true">#</a> 4.1 åŸºæœ¬æ¶å­æ­å»º</h3><ul><li>ç´ æä¸­å·²ç»æä¾›å¥½äº†</li></ul><h3 id="_4-2-åˆ—è¡¨å±•ç¤ºåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_4-2-åˆ—è¡¨å±•ç¤ºåŠŸèƒ½" aria-hidden="true">#</a> 4.2 åˆ—è¡¨å±•ç¤ºåŠŸèƒ½</h3><p>ï¼ˆ1ï¼‰åœ¨ App.vue ä¸­æä¾›æ•°æ®</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> TodoHeader <span class="token keyword">from</span> <span class="token string">&#39;./components/TodoHeader.vue&#39;</span>
<span class="token keyword">import</span> TodoMain <span class="token keyword">from</span> <span class="token string">&#39;./components/TodoMain.vue&#39;</span>
<span class="token keyword">import</span> TodoFooter <span class="token keyword">from</span> <span class="token string">&#39;./components/TodoFooter.vue&#39;</span>

<span class="token comment">// æä¾›æ•°æ®</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;åƒé¥­&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;ç¡è§‰&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;æ‰“è±†è±†&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)ä¼ é€’ç»™ Main ç»„ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>TodoMain <span class="token operator">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoMain<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ3ï¼‰å­ç»„ä»¶æ¥æ”¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ4ï¼‰å­ç»„ä»¶æ¸²æŸ“</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todo-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ completed: item.done }<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in list<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>view<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.done<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>edit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Create a TodoMVC template<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-ä¿®æ”¹ä»»åŠ¡çŠ¶æ€åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_4-3-ä¿®æ”¹ä»»åŠ¡çŠ¶æ€åŠŸèƒ½" aria-hidden="true">#</a> 4.3 ä¿®æ”¹ä»»åŠ¡çŠ¶æ€åŠŸèƒ½</h3><p>ï¼ˆ1ï¼‰å­ç»„ä»¶æ³¨å†Œäº‹ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggle<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checkbox<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:checked</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.done<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeFn(item.id)<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)å­ä¼ çˆ¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;changeDone&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">const</span> <span class="token function-variable function">changeFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token string">&#39; &#39;</span><span class="token punctuation">}</span>
  <span class="token punctuation">{</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;changeDone&#39;</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3)çˆ¶ç»„ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">changeDone</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> todo <span class="token operator">=</span> list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span>
  todo<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>done
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>TodoMain <span class="token operator">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span> @changeDone<span class="token operator">=</span><span class="token string">&quot;changeDone&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoMain<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-åˆ é™¤åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_4-4-åˆ é™¤åŠŸèƒ½" aria-hidden="true">#</a> 4.4 åˆ é™¤åŠŸèƒ½</h3><p>ï¼ˆ1ï¼‰å­ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>const emit = defineEmits([&#39;changeDone&#39;, &#39;delTodo&#39;])

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>destroy<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>emit(&#39;delTodo&#39;, item.id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)çˆ¶ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code>const delTodo = (id) =&gt; { list.value = list.value.filter((item) =&gt;
item.id !== id) }

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoMain</span>
  <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@changeDone</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeDone<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">@delTodo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>delTodo<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TodoMain</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5-æ·»åŠ åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_4-5-æ·»åŠ åŠŸèƒ½" aria-hidden="true">#</a> 4.5 æ·»åŠ åŠŸèƒ½</h3><p>(1)å­ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> todoName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;addTodo&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>todoName<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;addTodo&#39;</span><span class="token punctuation">,</span> todoName<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    todoName<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&#39;&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>header</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>todos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>new-todo<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>What needs to be done?<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">autofocus</span>
      <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>todoName<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@keydown.enter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>header</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)çˆ¶ç»„ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    name<span class="token punctuation">,</span>
    <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>


<span class="token operator">&lt;</span>TodoHeader @addTodo<span class="token operator">=</span><span class="token string">&quot;addTodo&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoHeader<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-6-åº•éƒ¨åŠŸèƒ½-è®¡ç®—å±æ€§" tabindex="-1"><a class="header-anchor" href="#_4-6-åº•éƒ¨åŠŸèƒ½-è®¡ç®—å±æ€§" aria-hidden="true">#</a> 4.6 åº•éƒ¨åŠŸèƒ½ (è®¡ç®—å±æ€§)</h3><p>(1)App ç»„ä»¶</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoFooter</span> <span class="token attr-name">:list</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>TodoFooter</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>(1)å­ç»„ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script setup<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> leftCount <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>item<span class="token punctuation">.</span>done<span class="token punctuation">)</span><span class="token punctuation">.</span>length
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>footer <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;footer&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;todo-count&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> leftCount <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span> item left
    <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>ul <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;filters&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;selected&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;#/&quot;</span><span class="token operator">&gt;</span>All<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#/active&quot;</span><span class="token operator">&gt;</span>Active<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#/completed&quot;</span><span class="token operator">&gt;</span>Completed<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;clear-completed&quot;</span><span class="token operator">&gt;</span>Clear completed<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">&quot;less&quot;</span> scoped<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-7-å…¨é€‰åé€‰åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_4-7-å…¨é€‰åé€‰åŠŸèƒ½" aria-hidden="true">#</a> 4.7 å…¨é€‰åé€‰åŠŸèƒ½</h3><p>(1)æä¾›è®¡ç®—å±æ€§</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
    <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> isCheckAll <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> props<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(2)æ³¨å†Œäº‹ä»¶</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>input
  id<span class="token operator">=</span><span class="token string">&quot;toggle-all&quot;</span>
  <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;toggle-all&quot;</span>
  type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span>
  <span class="token operator">:</span>checked<span class="token operator">=</span><span class="token string">&quot;isCheckAll&quot;</span>
  @change<span class="token operator">=</span><span class="token string">&quot;emit(&#39;checkAll&#39;, !isCheckAll)&quot;</span>
<span class="token operator">/</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(3)çˆ¶ç»„ä»¶å…¨é€‰æˆ–è€…åé€‰</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">checkAll</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  list<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>done <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token operator">&lt;</span>TodoMain
  <span class="token operator">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span>
  @changeDone<span class="token operator">=</span><span class="token string">&quot;changeDone&quot;</span>
  @delTodo<span class="token operator">=</span><span class="token string">&quot;delTodo&quot;</span>
  @checkAll<span class="token operator">=</span><span class="token string">&quot;checkAll&quot;</span>
<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>TodoMain<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-8-watch-ç›‘è§†å­˜åˆ°æœ¬åœ°" tabindex="-1"><a class="header-anchor" href="#_4-8-watch-ç›‘è§†å­˜åˆ°æœ¬åœ°" aria-hidden="true">#</a> 4.8 watch ç›‘è§†å­˜åˆ°æœ¬åœ°</h3><p>ç›‘è§†æ•°æ®</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">watch</span><span class="token punctuation">(</span>
  list<span class="token punctuation">,</span>
  <span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">&#39;todos&#39;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨æœ¬åœ°æ•°æ®</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// æä¾›æ•°æ®</span>
<span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">&#39;todos&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>todos<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,110);function E(C,X){const t=o("ExternalLinkIcon");return c(),l("div",null,[q,n("ul",null,[n("li",null,[s("Vite ä»¥ "),n("a",x,[s("åŸç”Ÿ ESM"),p(t)]),s(" æ–¹å¼æä¾›æºç ã€‚è¿™å®é™…ä¸Šæ˜¯è®©æµè§ˆå™¨æ¥ç®¡äº†æ‰“åŒ…ç¨‹åºçš„éƒ¨åˆ†å·¥ä½œã€‚")]),w,j]),P,n("p",null,[n("a",B,[s("ç”Ÿå‘½å‘¨æœŸå‡½æ•°"),p(t)]),s(" vue3 ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°, éœ€è¦åœ¨ setup ä¸­è°ƒç”¨")]),S])}const O=e(y,[["render",E],["__file","vue3jichu.html.vue"]]);export{O as default};
